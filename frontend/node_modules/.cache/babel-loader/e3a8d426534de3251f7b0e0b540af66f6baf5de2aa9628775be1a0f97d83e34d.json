{"ast":null,"code":"var _jsxFileName = \"/Users/dhairyasansi/Documents/florisherbals-final/frontend/src/Checkout.js\",\n  _s = $RefreshSig$();\nimport { useCart } from \"./context/CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Checkout() {\n  _s();\n  const {\n    cart,\n    totalAmount\n  } = useCart();\n  const payNow = async () => {\n    if (cart.length === 0) {\n      alert(\"Cart is empty\");\n      return;\n    }\n    const res = await fetch(\"http://localhost:5001/api/payment/create-order\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        amount: totalAmount,\n        products: cart\n      })\n    });\n    const data = await res.json();\n    const options = {\n      key: \"rzp_test_xxxxxxxxxx\",\n      // ðŸ”´ PUT YOUR REAL TEST KEY HERE\n      amount: totalAmount * 100,\n      currency: \"INR\",\n      name: \"Floris Herbals\",\n      description: \"Organic Oils Purchase\",\n      order_id: data.order.id,\n      handler: async function (response) {\n        await fetch(\"http://localhost:5001/api/payment/verify\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            razorpay_order_id: response.razorpay_order_id,\n            razorpay_payment_id: response.razorpay_payment_id,\n            razorpay_signature: response.razorpay_signature,\n            products: cart,\n            amount: totalAmount\n          })\n        });\n        alert(\"Payment successful ðŸŒ¿\");\n        localStorage.clear();\n        window.location.href = \"/\";\n      },\n      theme: {\n        color: \"#5a7f4f\"\n      }\n    };\n    const rzp = new window.Razorpay(options);\n    rzp.open();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 40\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), cart.map((p, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [p.name, \" \\u2014 \\u20B9\", p.price]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total: \\u20B9\", totalAmount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: payNow,\n      children: \"Pay with Razorpay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Checkout, \"Gel0AToaF+3dnW2WIj2NLfdax0Q=\", false, function () {\n  return [useCart];\n});\n_c = Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useCart","jsxDEV","_jsxDEV","Checkout","_s","cart","totalAmount","payNow","length","alert","res","fetch","method","headers","body","JSON","stringify","amount","products","data","json","options","key","currency","name","description","order_id","order","id","handler","response","razorpay_order_id","razorpay_payment_id","razorpay_signature","localStorage","clear","window","location","href","theme","color","rzp","Razorpay","open","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","map","p","i","price","onClick","_c","$RefreshReg$"],"sources":["/Users/dhairyasansi/Documents/florisherbals-final/frontend/src/Checkout.js"],"sourcesContent":["import { useCart } from \"./context/CartContext\";\n\nexport default function Checkout() {\n  const { cart, totalAmount } = useCart();\n\n  const payNow = async () => {\n    if (cart.length === 0) {\n      alert(\"Cart is empty\");\n      return;\n    }\n\n    const res = await fetch(\"http://localhost:5001/api/payment/create-order\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ amount: totalAmount, products: cart })\n    });\n\n    const data = await res.json();\n\n    const options = {\n      key: \"rzp_test_xxxxxxxxxx\", // ðŸ”´ PUT YOUR REAL TEST KEY HERE\n      amount: totalAmount * 100,\n      currency: \"INR\",\n      name: \"Floris Herbals\",\n      description: \"Organic Oils Purchase\",\n      order_id: data.order.id,\n      handler: async function (response) {\n        await fetch(\"http://localhost:5001/api/payment/verify\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            razorpay_order_id: response.razorpay_order_id,\n            razorpay_payment_id: response.razorpay_payment_id,\n            razorpay_signature: response.razorpay_signature,\n            products: cart,\n            amount: totalAmount\n          })\n        });\n\n        alert(\"Payment successful ðŸŒ¿\");\n        localStorage.clear();\n        window.location.href = \"/\";\n      },\n      theme: {\n        color: \"#5a7f4f\"\n      }\n    };\n\n    const rzp = new window.Razorpay(options);\n    rzp.open();\n  };\n\n  return (\n    <div style={{ padding: 40 }}>\n      <h2>Checkout</h2>\n\n      {cart.map((p, i) => (\n        <p key={i}>{p.name} â€” â‚¹{p.price}</p>\n      ))}\n\n      <h3>Total: â‚¹{totalAmount}</h3>\n      <button onClick={payNow}>Pay with Razorpay</button>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}