{"ast":null,"code":"var _jsxFileName = \"/Users/dhairyasansi/Documents/florisherbals-final/frontend/src/Checkout.js\",\n  _s = $RefreshSig$();\nimport { useCart } from \"./context/CartContext\";\nimport { useAuth } from \"./context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Checkout() {\n  _s();\n  const {\n    cart,\n    totalAmount\n  } = useCart();\n  const {\n    user\n  } = useAuth();\n  const payNow = async () => {\n    if (cart.length === 0) {\n      alert(\"Cart is empty\");\n      return;\n    }\n    if (!user) {\n      alert(\"Please login to checkout so we can track your order!\");\n      window.location.href = \"/login\";\n      return;\n    }\n    const res = await fetch(\"https://floris-backend-ct26.onrender.com/api/payment/create-order\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        amount: totalAmount,\n        products: cart\n      })\n    });\n    const data = await res.json();\n    const options = {\n      key: process.env.REACT_APP_RAZORPAY_KEY || \"rzp_test_xxxxxxxxxx\",\n      amount: totalAmount * 100,\n      currency: \"INR\",\n      name: \"Floris Herbals\",\n      description: \"Order Payment\",\n      order_id: data.order.id,\n      handler: async function (response) {\n        await fetch(\"https://floris-backend-ct26.onrender.com/api/payment/verify\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            razorpay_order_id: response.razorpay_order_id,\n            razorpay_payment_id: response.razorpay_payment_id,\n            razorpay_signature: response.razorpay_signature,\n            products: cart,\n            amount: totalAmount,\n            userId: user._id\n          })\n        });\n        alert(\"Payment successful! Track order in Account.\");\n        localStorage.removeItem(\"cart\");\n        window.location.href = \"/account\";\n      },\n      theme: {\n        color: \"#5a7f4f\"\n      }\n    };\n    const rzp = new window.Razorpay(options);\n    rzp.open();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"60px 20px\",\n      display: \"grid\",\n      gridTemplateColumns: \"1fr 1fr\",\n      gap: 40,\n      maxWidth: 1000,\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontFamily: \"Playfair Display, serif\",\n          marginBottom: 20\n        },\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginBottom: 20\n        },\n        children: [\"Logged in as: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: user ? user.name : \"Guest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 15\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Address\",\n          style: {\n            padding: 12,\n            border: \"1px solid #ddd\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"City\",\n          style: {\n            padding: 12,\n            border: \"1px solid #ddd\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"PIN Code\",\n          style: {\n            padding: 12,\n            border: \"1px solid #ddd\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#fafafa\",\n        padding: 30,\n        borderRadius: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: 20\n        },\n        children: \"Order Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), cart.map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginBottom: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9\", p.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderTop: \"1px solid #eee\",\n          margin: \"20px 0\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          fontWeight: \"bold\",\n          fontSize: 18\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9\", totalAmount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: payNow,\n        className: \"btn-primary\",\n        style: {\n          marginTop: 20\n        },\n        children: \"PAY NOW\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Checkout, \"Ca4BGFeFgoi15ryHZLnPkx7l/Z4=\", false, function () {\n  return [useCart, useAuth];\n});\n_c = Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useCart","useAuth","jsxDEV","_jsxDEV","Checkout","_s","cart","totalAmount","user","payNow","length","alert","window","location","href","res","fetch","method","headers","body","JSON","stringify","amount","products","data","json","options","key","process","env","REACT_APP_RAZORPAY_KEY","currency","name","description","order_id","order","id","handler","response","razorpay_order_id","razorpay_payment_id","razorpay_signature","userId","_id","localStorage","removeItem","theme","color","rzp","Razorpay","open","style","padding","display","gridTemplateColumns","gap","maxWidth","margin","children","fontFamily","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","flexDirection","type","placeholder","border","background","borderRadius","map","p","i","justifyContent","price","borderTop","fontWeight","fontSize","onClick","className","marginTop","_c","$RefreshReg$"],"sources":["/Users/dhairyasansi/Documents/florisherbals-final/frontend/src/Checkout.js"],"sourcesContent":["import { useCart } from \"./context/CartContext\";\nimport { useAuth } from \"./context/AuthContext\";\n\nexport default function Checkout() {\n  const { cart, totalAmount } = useCart();\n  const { user } = useAuth();\n\n  const payNow = async () => {\n    if (cart.length === 0) {\n      alert(\"Cart is empty\");\n      return;\n    }\n    if (!user) {\n      alert(\"Please login to checkout so we can track your order!\");\n      window.location.href = \"/login\";\n      return;\n    }\n    const res = await fetch(\"https://floris-backend-ct26.onrender.com/api/payment/create-order\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ amount: totalAmount, products: cart })\n    });\n    const data = await res.json();\n    const options = {\n      key: process.env.REACT_APP_RAZORPAY_KEY || \"rzp_test_xxxxxxxxxx\",\n      amount: totalAmount * 100,\n      currency: \"INR\",\n      name: \"Floris Herbals\",\n      description: \"Order Payment\",\n      order_id: data.order.id,\n      handler: async function (response) {\n        await fetch(\"https://floris-backend-ct26.onrender.com/api/payment/verify\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            razorpay_order_id: response.razorpay_order_id,\n            razorpay_payment_id: response.razorpay_payment_id,\n            razorpay_signature: response.razorpay_signature,\n            products: cart,\n            amount: totalAmount,\n            userId: user._id\n          })\n        });\n        alert(\"Payment successful! Track order in Account.\");\n        localStorage.removeItem(\"cart\");\n        window.location.href = \"/account\";\n      },\n      theme: { color: \"#5a7f4f\" }\n    };\n    const rzp = new window.Razorpay(options);\n    rzp.open();\n  };\n\n  return (\n    <div style={{ padding: \"60px 20px\", display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 40, maxWidth: 1000, margin: \"auto\" }}>\n      <div>\n        <h2 style={{ fontFamily: \"Playfair Display, serif\", marginBottom: 20 }}>Checkout</h2>\n        <p style={{marginBottom: 20}}>Logged in as: <strong>{user ? user.name : \"Guest\"}</strong></p>\n        <form style={{ display: \"flex\", flexDirection: \"column\", gap: 15 }}>\n          <input type=\"text\" placeholder=\"Address\" style={{ padding: 12, border: \"1px solid #ddd\" }} />\n          <input type=\"text\" placeholder=\"City\" style={{ padding: 12, border: \"1px solid #ddd\" }} />\n          <input type=\"text\" placeholder=\"PIN Code\" style={{ padding: 12, border: \"1px solid #ddd\" }} />\n        </form>\n      </div>\n      <div style={{ background: \"#fafafa\", padding: 30, borderRadius: 8 }}>\n        <h3 style={{ marginBottom: 20 }}>Order Summary</h3>\n        {cart.map((p, i) => (\n          <div key={i} style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 10 }}>\n            <span>{p.name}</span>\n            <span>₹{p.price}</span>\n          </div>\n        ))}\n        <div style={{ borderTop: \"1px solid #eee\", margin: \"20px 0\" }}></div>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", fontWeight: \"bold\", fontSize: 18 }}>\n          <span>Total</span>\n          <span>₹{totalAmount}</span>\n        </div>\n        <button onClick={payNow} className=\"btn-primary\" style={{ marginTop: 20 }}>\n          PAY NOW\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}